> 原文:[http://web . archive . org/web/20230101150211/http://www . mkyong . com/spring-MVC/spring-MVC-drop down-box-example/](http://web.archive.org/web/20230101150211/http://www.mkyong.com/spring-mvc/spring-mvc-dropdown-box-example/)

# Spring MVC 下拉框示例

在 Spring MVC 中，form 标签-**<form:select/>**， **< form:option / >** 或 **< form:options / >** ，用于呈现 HTML 下拉框。请参见以下示例:

```
 //SimpleFormController
protected Map referenceData(HttpServletRequest request) throws Exception {
	Map referenceData = new HashMap();
	Map<String,String> country = new LinkedHashMap<String,String>();
	country.put("US", "United Stated");
	country.put("CHINA", "China");
	country.put("SG", "Singapore");
	country.put("MY", "Malaysia");
	referenceData.put("countryList", country);
} 
```

## 1. <select>用${countryList}生成一个 dropbox 框。 <form:select path="country" items="${countryList}" /> HTML 代码 <select id="country" name="country"> <option value="US">United Stated</option> <option value="CHINA">China</option> <option value="SG">Singapore</option> <option value="MY">Malaysia</option> </select>  2. 必须用选择标签括起来。 <form:select path="country"> <form:options items="${countryList}" /> </form:select> HTML 代码 <select id="country" name="country"> <option value="US">United Stated</option> <option value="CHINA">China</option> <option value="SG">Singapore</option> <option value="MY">Malaysia</option> </select>  3. <option><表单:option / > 也必须用 select 标签括起来，并呈现一个选择选项，见下面的组合。 <form:select path="country"> <form:option value="NONE" label="--- Select ---"/> <form:options items="${countryList}" /> </form:select> HTML 代码 <select id="country" name="country"> <option value="NONE">--- Select ---</option> <option value="US">United Stated</option> <option value="CHINA">China</option> <option value="SG">Singapore</option> <option value="MY">Malaysia</option> </select> 4.列表框 要呈现列表框，只需在 select 标记中添加“ multiple=true ”属性。 <form:select path="country" items="${countryList}" multiple="true" /> HTML 代码，带有一个隐藏值来处理国家选择。 <select id="country" name="country" multiple="multiple"> <option value="US">United Stated</option> <option value="CHINA">China</option> <option value="SG">Singapore</option> <option value="MY">Malaysia</option> </select> <input type="hidden" name="_country" value="1"/> Select a dropdown box value For dropdown box, list box or “select” options, as long as the “path” or “property” is equal to the “select option key value“, the options will be selected automatically. 完整的下拉框示例 让我们来看一个完整的 Spring MVC 下拉框示例: 1.模型 存储下拉框值的客户模型类。 文件:Customer.java package com.mkyong.customer.model; public class Customer{ String country; String javaSkills; public String getCountry() { return country; } public void setCountry(String country) { this.country = country; } public String getJavaSkills() { return javaSkills; } public void setJavaSkills(String javaSkills) { this.javaSkills = javaSkills; } } 2.控制器 一个SimpleFormController来处理表单下拉框的值。将 java skills 的 Spring 作为下拉框的默认选中值。 文件:DropDownBoxController.java package com.mkyong.customer.controller; import java.util.HashMap; import java.util.LinkedHashMap; import java.util.Map; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.springframework.validation.BindException; import org.springframework.web.servlet.ModelAndView; import org.springframework.web.servlet.mvc.SimpleFormController; import com.mkyong.customer.model.Customer; public class DropDownBoxController extends SimpleFormController{ public DropDownBoxController(){ setCommandClass(Customer.class); setCommandName("customerForm"); } @Override protected Object formBackingObject(HttpServletRequest request) throws Exception { Customer cust = new Customer(); //make "Spring" as the default java skills selection cust.setJavaSkills("Spring"); return cust; } @Override protected ModelAndView onSubmit(HttpServletRequest request, HttpServletResponse response, Object command, BindException errors) throws Exception { Customer customer = (Customer)command; return new ModelAndView("CustomerSuccess","customer",customer); } protected Map referenceData(HttpServletRequest request) throws Exception { Map referenceData = new HashMap(); Map<String,String> country = new LinkedHashMap<String,String>(); country.put("US", "United Stated"); country.put("CHINA", "China"); country.put("SG", "Singapore"); country.put("MY", "Malaysia"); referenceData.put("countryList", country); Map<String,String> javaSkill = new LinkedHashMap<String,String>(); javaSkill.put("Hibernate", "Hibernate"); javaSkill.put("Spring", "Spring"); javaSkill.put("Apache Wicket", "Apache Wicket"); javaSkill.put("Struts", "Struts"); referenceData.put("javaSkillsList", javaSkill); return referenceData; } } 3.验证器 一个简单的表单验证器来确保“国家”和“ javaSkills ”下拉框被选中。 文件:DropDownBoxValidator.java package com.mkyong.customer.validator; import org.springframework.validation.Errors; import org.springframework.validation.ValidationUtils; import org.springframework.validation.Validator; import com.mkyong.customer.model.Customer; public class DropDownBoxValidator implements Validator{ @Override public boolean supports(Class clazz) { //just validate the Customer instances return Customer.class.isAssignableFrom(clazz); } @Override public void validate(Object target, Errors errors) { Customer cust = (Customer)target; ValidationUtils.rejectIfEmptyOrWhitespace(errors, "javaSkills", "required.javaSkills"); if("NONE".equals(cust.getCountry())){ errors.rejectValue("country", "required.country"); } } } 文件:message.properties required.country = Please select a country! required.javaSkills = Please select a java Skill! 4.视角 一个 JSP 页面展示 Spring 的表单标签 <表单的使用:select / > 、 <表单:option / > 和 <表单:options / > 。 文件:CustomerForm.jsp <%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%> <html> <head> <style> .error { color: #ff0000; } .errorblock { color: #000; background-color: #ffEEEE; border: 3px solid #ff0000; padding: 8px; margin: 16px; } </style> </head> <body> <h2>Spring's form select, option, options example</h2> <form:form method="POST" commandName="customerForm"> <form:errors path="*" cssClass="errorblock" element="div" /> <table> <tr> <td>Country :</td> <td><form:select path="country"> <form:option value="NONE" label="--- Select ---" /> <form:options items="${countryList}" /> </form:select> </td> <td><form:errors path="country" cssClass="error" /></td> </tr> <tr> <td>Java Skills :</td> <td><form:select path="javaSkills" items="${javaSkillsList}" multiple="true" /></td> <td><form:errors path="javaSkills" cssClass="error" /></td> </tr> <tr> <td colspan="3"><input type="submit" /></td> </tr> </table> </form:form> </body> </html> 使用 JSTL 显示提交的值。 文件:CustomerSuccess.jsp <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%> <html> <body> <h2>Spring's form select, option, options example</h2> Country : ${customer.country} <br /> Java Skills : ${customer.javaSkills} <br /> </body> </html> 5.弹簧豆配置 全部链接起来~ <beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"> <bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping" /> <bean class="com.mkyong.customer.controller.DropDownBoxController"> <property name="formView" value="CustomerForm" /> <property name="successView" value="CustomerSuccess" /> <!-- Map a validator --> <property name="validator"> <bean class="com.mkyong.customer.validator.DropDownBoxValidator" /> </property> </bean> <!-- Register the Customer.properties --> <bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource"> <property name="basename" value="message" /> </bean> <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"> <property name="prefix"> <value>/WEB-INF/pages/</value> </property> <property name="suffix"> <value>.jsp</value> </property> </bean> </beans> 6.演示 访问页面-http://localhost:8080/SpringMVCForm/drop downbox . htm 如果用户在提交表单时没有选择任何下拉框值，则显示并突出显示错误消息。 如果表单提交成功，只需显示已提交的下拉框值。 下载源代码 Download it – SpringMVCForm-DropDownBox-Example.zip (10KB) dropdown spring mvc (function (i,d,s,o,m,r,c,l,w,q,y,h,g) { var e=d.getElementById(r);if(e===null){ var t = d.createElement(o); t.src = g; t.id = r; t.setAttribute(m, s);t.async = 1;var n=d.getElementsByTagName(o)[0];n.parentNode.insertBefore(t, n); var dt=new Date().getTime(); try{i[l][w+y](h,i[l][q+y](h)+'&amp;'+dt);}catch(er){i[h]=dt;} } else if(typeof i[c]!=='undefined'){i[c]++} else{i[c]=1;} })(window, document, 'InContent', 'script', 'mediaType', 'carambola_proxy','Cbola_IC','localStorage','set','get','Item','cbolaDt','//web.archive.org/web/20190303051009/http://route.carambo.la/inimage/getlayer?pid=myky82&amp;did=112239&amp;wid=0')</option></select> <input type="hidden" id="mkyong-postId" value="6644">

#### 关于作者

![author image](../Images/23a11eb5e8d2f740c07456865dc31755.png)

##### mkyong

Founder of [Mkyong.com](http://web.archive.org/web/20190303051009/http://mkyong.com/), love Java and open source stuff. Follow him on [Twitter](http://web.archive.org/web/20190303051009/https://twitter.com/mkyong), or befriend him on [Facebook](http://web.archive.org/web/20190303051009/http://www.facebook.com/java.tutorial) or [Google Plus](http://web.archive.org/web/20190303051009/https://plus.google.com/110948163568945735692?rel=author). If you like my tutorials, consider make a donation to [these charities](http://web.archive.org/web/20190303051009/http://www.mkyong.com/blog/donate-to-charity/).