> 原文:[http://web . archive . org/web/20230101150211/http://www . mkyong . com/JSF 2/how-to-pass-new-hidden-value-to-backing-bean-in-JSF/](http://web.archive.org/web/20230101150211/http://www.mkyong.com/jsf2/how-to-pass-new-hidden-value-to-backing-bean-in-jsf/)

# 如何将新的隐藏价值传递给 JSF 的 backing bean

在某些情况下，您可能需要向后备 bean 传递一个新的隐藏值。一般有两种方式:

## 1.HTML 标记+ getRequestParameterMap()

通过 **getRequestParameterMap()** 方法，使用普通 HTML 输入、硬编码的新隐藏值和后台 bean 中的访问来呈现隐藏字段。

JSF…

```
 <h:form id="myForm">
    <input type="hidden" name="hidden1" value="this is hidden2" />
    <h:commandButton value="submit" action="#{user.action}" />
</h:form> 
```

受管 bean…

```
 @ManagedBean(name="user")
@SessionScoped
public class UserBean
{
	public String action(){
	   String value = FacesContext.getCurrentInstance().
		getExternalContext().getRequestParameterMap().get("hidden1");
	}
} 
```

 <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-2836379775501347" data-ad-slot="6894224149">## 2.JSF 标签+ JavaScript

通过“h:inputHidden”标记呈现隐藏字段，通过 JavaScript 分配新值。

JSF…

```
 <script type="text/javascript">
   function setHiddenValue(new_value){

	document.getElementById('myForm:hidden2').value = new_value;

   }
</script>
<h:form id="myForm">		    
   <h:inputHidden id="hidden2" value="#{user.hidden2}" />
   <h:commandButton value="submit" action="..." onclick="setHiddenValue('this is hidden2');" />
</h:form> 
```

受管 bean…

```
 @ManagedBean(name="user")
@SessionScoped
public class UserBean
{
	public String hidden2;

	public void setHidden2(String hidden2) {
		this.hidden2 = hidden2;
	}
} 
```

 <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2836379775501347" data-ad-slot="8821506761" data-ad-format="auto" data-ad-region="mkyongregion">## JSF 2.0 新隐藏价值示例

一个 JSF 2.0 的例子，演示了使用上述两种方法来传递一个新的隐藏值给一个后台 bean。

## 1.受管 Bean

一个简单的受管 bean，将名称指定为“user”。

```
 package com.mkyong.form;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.context.FacesContext;

import java.io.Serializable;

@ManagedBean(name="user")
@SessionScoped
public class UserBean implements Serializable {

	public String hidden1;
	public String hidden2;

	public String getHidden2() {
		return hidden2;
	}

	public void setHidden2(String hidden2) {
		this.hidden2 = hidden2;
	}

	public String getHidden1() {
		return hidden1;
	}

	public void setHidden1(String hidden1) {
		this.hidden1 = hidden1;
	}

	public String action(){

	    String value = FacesContext.getCurrentInstance().
		getExternalContext().getRequestParameterMap().get("hidden1");
	    setHidden1(value);

	    return "start";
	}	
} 
```

## 2.查看页面

两页用于演示。

**demo . XHTML**–传递新隐藏值的两种方法。

```
 <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html    
      xmlns:h="http://java.sun.com/jsf/html">

	<h:head>
	<script type="text/javascript">
	   function setHiddenValue(new_value){

	     document.getElementById('myForm:hidden2').value = new_value;

	   }
	</script>
	</h:head>
    <h:body>
     <h1>JSF 2 pass new hidden value to backing bean</h1>

     <h:form id="myForm">

       <input type="hidden" name="hidden1" value="this is hidden2" />

       <h:inputHidden id="hidden2" value="#{user.hidden2}" />

       <h:commandButton value="submit" action="#{user.action}" 
                               onclick="setHiddenValue('this is hidden2');" />
     </h:form>

    </h:body>
</html> 
```

**start . XHTML**–通过“h:outputText”标签显示隐藏值。

```
 <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html    
      xmlns:h="http://java.sun.com/jsf/html">

    <h:body>
    	<h1>JSF 2 pass new hidden value to backing bean</h1>
 	<ol>
 	  <li>Hidden1 = <h:outputText value="#{user.hidden1}" /></li>
 	  <li>Hidden2 = <h:outputText value="#{user.hidden2}" /></li>
	</ol>
    </h:body>
</html> 
```

## 3.演示

*URL:http://localhost:8080/Java server faces/*

![jsf2-new-hidden-example-1](../Images/320c2c08cf153ecc4b7ddd37ecd1c9de.png "jsf2-new-hidden-example-1")![jsf2-new-hidden-example-2](../Images/82d889029c6f2e2848f9c1cb7cc3d18f.png "jsf2-new-hidden-example-2")

## 下载源代码

Download It – [JSF-2-New-HiddenValue-Example.zip](http://web.archive.org/web/20190306165414/http://www.mkyong.com/wp-content/uploads/2010/09/JSF-2-New-HiddenValue-Example.zip) (10KB)

#### 参考

1.  [JSF < h:输入隐藏/ > JavaDoc](http://web.archive.org/web/20190306165414/https://javaserverfaces.dev.java.net/nonav/docs/2.0/pdldocs/facelets/h/inputHidden.html)

[靠山豆](http://web.archive.org/web/20190306165414/http://www.mkyong.com/tag/backing-bean/) [隐藏值](http://web.archive.org/web/20190306165414/http://www.mkyong.com/tag/hidden-value/)[JSF 2](http://web.archive.org/web/20190306165414/http://www.mkyong.com/tag/jsf2/)</ins></ins> ![](../Images/bcc95b08ea25ea429933cd2b621b6d13.png) (function (i,d,s,o,m,r,c,l,w,q,y,h,g) { var e=d.getElementById(r);if(e===null){ var t = d.createElement(o); t.src = g; t.id = r; t.setAttribute(m, s);t.async = 1;var n=d.getElementsByTagName(o)[0];n.parentNode.insertBefore(t, n); var dt=new Date().getTime(); try{i[l][w+y](h,i[l][q+y](h)+'&amp;'+dt);}catch(er){i[h]=dt;} } else if(typeof i[c]!=='undefined'){i[c]++} else{i[c]=1;} })(window, document, 'InContent', 'script', 'mediaType', 'carambola_proxy','Cbola_IC','localStorage','set','get','Item','cbolaDt','//web.archive.org/web/20190306165414/http://route.carambo.la/inimage/getlayer?pid=myky82&amp;did=112239&amp;wid=0')<input type="hidden" id="mkyong-postId" value="7165">

#### 关于作者

![author image](../Images/dee23a842c13946c75a73accb7baefa7.png)

##### mkyong

Founder of [Mkyong.com](http://web.archive.org/web/20190306165414/http://mkyong.com/), love Java and open source stuff. Follow him on [Twitter](http://web.archive.org/web/20190306165414/https://twitter.com/mkyong), or befriend him on [Facebook](http://web.archive.org/web/20190306165414/http://www.facebook.com/java.tutorial) or [Google Plus](http://web.archive.org/web/20190306165414/https://plus.google.com/110948163568945735692?rel=author). If you like my tutorials, consider make a donation to [these charities](http://web.archive.org/web/20190306165414/http://www.mkyong.com/blog/donate-to-charity/).