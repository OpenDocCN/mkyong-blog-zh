# Java 11 çš„æ–°ç‰¹æ€§æ˜¯ä»€ä¹ˆ

> åŸæ–‡:[http://web . archive . org/web/20230101150211/https://mkyong . com/Java/what-is-new-in-Java-11/](http://web.archive.org/web/20230101150211/https://mkyong.com/java/what-is-new-in-java-11/)

![Java 11 logo](../Images/f3a2fce1e221693e84ee93f6722fa585.png)

[Java 11](http://web.archive.org/web/20221230032428/https://openjdk.java.net/projects/jdk/11/) äº 2018 å¹´ 9 æœˆ 25 æ—¥æ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒ(LTS)ç‰ˆæœ¬ï¼Œ[åœ¨æ­¤ä¸‹è½½ Java 11](http://web.archive.org/web/20221230032428/https://jdk.java.net/java-se-ri/11)æˆ–æ­¤ [openJDK å­˜æ¡£](http://web.archive.org/web/20221230032428/https://jdk.java.net/archive/)ã€‚

Java 11 çš„ç‰¹æ€§ã€‚

*   [1ã€‚JEP 181:åµŒå¥—å¼è®¿é—®æ§åˆ¶](#jep-181-nest-based-access-control)
*   [2ã€‚JEP 309:åŠ¨æ€ç±»æ–‡ä»¶å¸¸é‡](#jep-309-dynamic-class-file-constants)
*   [3ã€‚JEP 315:æ”¹è¿› Aarch64 å†…éƒ¨å‡½æ•°](#jep-315-improve-aarch64-intrinsics)
*   [4ã€‚JEP 318:Îµ:ä¸€ä¸ªæ— æ“ä½œåƒåœ¾æ”¶é›†å™¨(å®éªŒ)](#jep-318-epsilon-a-no-op-garbage-collector-experimental)
*   [5ã€‚JEP 320:ç§»é™¤ Java EE å’Œ CORBA æ¨¡å—](#jep-320-remove-the-java-ee-and-corba-modules)
*   [6ã€‚JEP 321: HTTP å®¢æˆ·ç«¯(æ ‡å‡†)](#jep-321-http-client-standard)
*   [7ã€‚JEP 323:Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•](#jep-323-local-variable-syntax-for-lambda-parameters)
*   [8ã€‚JEP 324:ä¸æ›²çº¿ 25519 å’Œæ›²çº¿ 448](#jep-324-key-agreement-with-curve25519-and-curve448) çš„å…³é”®åè®®
*   [9ã€‚JEP 327: Unicode 10](#jep-327-unicode-10)
*   10ã€‚JEP 328:é£è¡Œè®°å½•å™¨
*   [11ã€‚JEP 329: ChaCha20 å’Œ Poly1305 å¯†ç ç®—æ³•](#jep-329-chacha20-and-poly1305-cryptographic-algorithms)
*   [12ã€‚JEP 330:å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åº](#jep-330-launch-single-file-source-code-programs)
*   13ã€‚JEP 331:ä½å¼€é”€å †åˆ†æ
*   [14ã€‚JEP 332:ä¼ è¾“å±‚å®‰å…¨æ€§(TLS) 1.3](#jep-332-transport-layer-security-tls-13)
*   15ã€‚JEP 333: ZGC:ä¸€ä¸ªå¯æ‰©å±•çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨(å®éªŒ)
*   16ã€‚JEP 335:åå¯¹ Nashorn JavaScript å¼•æ“
*   [17ã€‚JEP 336:åå¯¹ Pack200 å·¥å…·å’Œ API](#jep-336-deprecate-the-pack200-tools-and-api)

*Java 11 å¼€å‘è€…ç‰¹æ€§ã€‚*

æ–°å¢ HTTP å®¢æˆ·ç«¯ API`java.net.http.*`ï¼Œlambda å‚æ•°ä¸­çš„`var`ï¼ŒJava fright recorder (JFR)ï¼Œå¯åŠ¨å•æ–‡ä»¶ç¨‹åº`java ClassName.java`ï¼Œæ”¯æŒ ChaCha20 å¯†ç ç®—æ³•ã€‚

**æœ€æ–° JDK å‘å¸ƒ Java 16**
T3ã€‘æœ€æ–° Java 16 æœ‰ä»€ä¹ˆæ–°å†…å®¹ã€‚

## 1ã€‚JEP 181:åµŒå¥—å¼è®¿é—®æ§åˆ¶

å®ƒç›´æ¥æ”¯æŒåµŒå¥—æˆå‘˜å†…éƒ¨çš„ç§æœ‰è®¿é—®ï¼Œä¸å†éœ€è¦é€šè¿‡è‡ªåŠ¨ç”Ÿæˆçš„æ¡¥æ–¹æ³•`access$000`ã€‚æ­¤å¤–ï¼Œæ–°çš„éªŒè¯åµŒå¥— API å…è®¸åµŒå¥—æˆå‘˜å†…éƒ¨çš„ç§æœ‰åå°„è®¿é—®ã€‚

Java 11 ä¹‹å‰ã€‚

.java

```
 public class Alphabet {
    private String name = "I'm Alphabet!";

    public class A {
        public void printName() {
            System.out.println(name);       // access Alphabet's private member!
        }
    }
} 
```

å¦‚æœæˆ‘ä»¬ç¼–è¯‘ä¸Šé¢çš„ç±»ï¼Œå®ƒå°†ç”Ÿæˆä¸¤ä¸ªç±»ï¼Œ`Alphabet`å’Œ`Alphabet$A`ï¼Œå³ä½¿æ˜¯åµŒå¥—ç±»ä¹Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„å…·æœ‰å”¯ä¸€åç§°çš„ç±»ã€‚JVM è®¿é—®è§„åˆ™ä¸å…è®¸ä¸åŒç±»ä¸­çš„ç§æœ‰è®¿é—®ã€‚ç„¶è€Œï¼ŒJava å…è®¸åµŒå¥—æˆå‘˜å†…éƒ¨çš„ç§æœ‰è®¿é—®ï¼Œæ‰€ä»¥ Java ç¼–è¯‘å™¨åˆ›å»ºäº†ä¸€ä¸ªæ¡¥æ–¹æ³•`access$000`æ¥åº”ç”¨äº JVM è®¿é—®è§„åˆ™ã€‚

```
 // After javac Alphabet.java, Java compiler created something similar to this.
public class Alphabet {
  private String name = "I'm Alphabet!";
  String access$000(){
    return name;
  }
}

public class Alphabet$A {
  final Alphabet obj;
  public void printName(){
    System.out.println(obj.access$000());
  }
} 
```

åœ¨ Java 11 ä¸­ï¼ŒJava ç¼–è¯‘å™¨ä¸ä¼šä¸ºåµŒå¥—æˆå‘˜å†…çš„ç§æœ‰è®¿é—®ç”Ÿæˆä»»ä½•æ¡¥æ–¹æ³•`access$000`ã€‚è¿™ä¸ªæ–°çš„ JVM è®¿é—®è§„åˆ™ï¼ŒåŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶å…è®¸åµŒå¥—æˆå‘˜å†…éƒ¨çš„ç§æœ‰è®¿é—®ã€‚

*å»¶ä¼¸é˜…è¯»*

*   JEP 181:åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶
*   [Java 11â€“åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶](/web/20221230032428/https://mkyong.com/java/java-11-nest-based-access-control/)

## 2ã€‚JEP 309:åŠ¨æ€ç±»æ–‡ä»¶å¸¸é‡

æ‰©å±•äº†ç±»æ–‡ä»¶æ ¼å¼ï¼Œä»¥æ”¯æŒæ–°çš„å¸¸é‡æ± å½¢å¼ï¼Œ`CONSTANT_Dynamic`ï¼Œç›®æ ‡è¯­è¨€è®¾è®¡è€…å’Œç¼–è¯‘å™¨å®ç°è€…ã€‚

*å»¶ä¼¸é˜…è¯»*

*   [JEP 309:åŠ¨æ€ç±»æ–‡ä»¶å¸¸é‡](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/309)

## 3ã€‚JEP 315:æ”¹è¿› Aarch64 å†…éƒ¨å‡½æ•°

ä¼˜åŒ–äº†ç°æœ‰çš„å­—ç¬¦ä¸²å’Œæ•°ç»„å†…å‡½æ•°ï¼Œåœ¨ Arm64 æˆ– Aarch64 å¤„ç†å™¨ä¸Šä¸º`Math.sin()`ã€`Math.cos()`å’Œ`Match.log()`å®ç°äº†æ–°çš„å†…å‡½æ•°ã€‚æ„å‘³ç€æ›´å¥½çš„æ€§èƒ½ã€‚

*P.S ä¸€ä¸ª[å†…åœ¨](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Intrinsic_function)ç”¨äºåˆ©ç”¨ CPU æ¶æ„ç‰¹å®šçš„æ±‡ç¼–ä»£ç æ¥æé«˜æ€§èƒ½ã€‚*

*å»¶ä¼¸é˜…è¯»*

*   [JEP 315:æ”¹è¿› Aarch64 çš„å†…éƒ¨å‡½æ•°](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/315)

## 4ã€‚JEP 318:Îµ:ä¸€ä¸ªæ— æ“ä½œåƒåœ¾æ”¶é›†å™¨(å®éªŒ)

ä¸€ä¸ªæ–°çš„ No-Op(æ— æ“ä½œ)åƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒåˆ†é…å†…å­˜ä½†ä¸ä¼šæ”¶é›†ä»»ä½•åƒåœ¾(å†…å­˜åˆ†é…)ï¼Œä¸€æ—¦ Java å †è€—å°½ï¼ŒJVM å°±ä¼šå…³é—­ã€‚

ä¸€äº›ä½¿ç”¨æ¡ˆä¾‹:

*   æ€§èƒ½è¯•éªŒ
*   è™šæ‹Ÿæœºæ¥å£æµ‹è¯•
*   çŸ­æš‚çš„å·¥ä½œ

è¿™ä¸ª GC æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ç‰¹æ€§ï¼›æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹æ¥å¯ç”¨æ–°çš„ Epsilon GCã€‚

```
 -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 318:Îµ:ä¸€ä¸ªæ— æ“ä½œåƒåœ¾æ”¶é›†å™¨(å®éªŒ)](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/318)

## 5ã€‚JEP 320:ç§»é™¤ Java EE å’Œ CORBA æ¨¡å—

Java 9 å¼ƒç”¨äº†ä¸‹é¢çš„ Java EE å’Œ CORBA æ¨¡å—ï¼Œç°åœ¨åœ¨ Java 11 ä¸­è¢«åˆ é™¤äº†ã€‚å¦‚æœæ‚¨æƒ³è¿ç§»åˆ° Java 11ï¼Œè¯·ç¡®ä¿æ‚¨çš„é¡¹ç›®æ²¡æœ‰ä½¿ç”¨ä»¥ä¸‹ä»»ä½•åŒ…æˆ–å·¥å…·ã€‚

ç§»é™¤çš„åŒ…:

*   java.xml.ws (JAX)
*   java.xml.bind
*   java.activation (JAF)
*   java.xml.ws.annotation(é€šç”¨æ³¨é‡Š)
*   java.corba
*   java .äº‹åŠ¡(JTA)
*   java.se.ee(ä¸Šè¿°å…­ä¸ªæ¨¡å—çš„èšåˆå™¨æ¨¡å—)

ç§»é™¤çš„å·¥å…·:

*   wsgen å’Œ wsimport(æ¥è‡ª jdk.xml.ws)
*   schemagen å’Œ xjc(æ¥è‡ª jdk.xml.bind)
*   idljã€orbdã€servertool å’Œ tnamesrv(æ¥è‡ª java.corba)

*å»¶ä¼¸é˜…è¯»*

*   [JEP 320:ç§»é™¤ Java EE å’Œ CORBA æ¨¡å—](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/320)

## 6ã€‚JEP 321: HTTP å®¢æˆ·ç«¯(æ ‡å‡†)

`java.net.http`åŒ…ä¸­çš„è¿™ä¸ª`HTTP Client API`åœ¨ Java 9 ä¸­å¼•å…¥ï¼Œåœ¨ Java 10 ä¸­æ›´æ–°ï¼Œç°åœ¨æ˜¯ Java 11 ä¸­çš„æ ‡å‡†ç‰¹æ€§ã€‚

Java 11 `HttpClient`å‘é€ä¸€ä¸ªç®€å•çš„`GET`è¯·æ±‚ã€‚

```
 HttpClient httpClient = HttpClient.newBuilder()
            .version(HttpClient.Version.HTTP_1_1)
            .connectTimeout(Duration.ofSeconds(10))
            .build();

    HttpRequest request = HttpRequest.newBuilder()
            .GET()
            .uri(URI.create("https://httpbin.org/get"))
            .setHeader("User-Agent", "Java 11 HttpClient Bot")
            .build();

    HttpResponse<String> response =
      httpClient.send(request, HttpResponse.BodyHandlers.ofString());

    HttpHeaders headers = response.headers();
    headers.map().forEach((k, v) -> System.out.println(k + ":" + v));

    System.out.println(response.statusCode());
    System.out.println(response.body()); 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 321: HTTP å®¢æˆ·ç«¯(æ ‡å‡†)](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/321)
*   [Java 11 HttpClient ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-httpclient-examples/)

## 7ã€‚JEP 323:Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•

è¿™ä¸ª JEP å¢åŠ äº†å¯¹ lambda å‚æ•°ä¸­å…³é”®å­—`var`çš„æ”¯æŒã€‚

```
 List<String> list = Arrays.asList("a", "b", "c");
  String result = list.stream()
          .map((var x) -> x.toUpperCase())
          .collect(Collectors.joining(","));
  System.out.println(result2); 
```

ç„¶è€Œï¼Œlambda å¯ä»¥è¿›è¡Œç±»å‹æ¨æ–­ï¼›ä¸Šé¢çš„ä¾‹å­ç›¸å½“äºè¿™ä¸ª:

```
 List<String> list = Arrays.asList("a", "b", "c");
  String result = list.stream()
          .map(x -> x.toUpperCase())
          .collect(Collectors.joining(",")); 
```

é‚£ä¹ˆï¼Œè¿™ä¸ª JEP ä¸ºä»€ä¹ˆè¦åœ¨ lambda å‚æ•°ä¸­åŠ å…¥`var`ï¼Ÿå¥½å¤„æ˜¯ç°åœ¨æˆ‘ä»¬å¯ä»¥å‘ lambda å‚æ•°æ·»åŠ æ³¨é‡Šï¼Œå‚è§ä»¥ä¸‹ç¤ºä¾‹:

```
 import org.jetbrains.annotations.NotNull;

  List<String> list = Arrays.asList("a", "b", "c", null);
  String result = list.stream()
          .map((@NotNull var x) -> x.toUpperCase())
          .collect(Collectors.joining(","));
  System.out.println(result3); 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 323:Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/323)

## 8ã€‚JEP 324:ä¸æ›²çº¿ 25519 å’Œæ›²çº¿ 448
çš„å…³é”®åè®®

Java å¯†ç å­¦ç›¸å…³é¡¹ç›®ã€‚å®ƒç”¨ [Curve25519](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Curve25519) å’Œ [Curve448](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Curve448) ç®—æ³•å–ä»£äº†ç°æœ‰çš„æ¤­åœ†æ›²çº¿ Diffie-Hellman (ECDH)æ–¹æ¡ˆï¼Œè¿™æ˜¯ä¸€ç§åœ¨ [RFC 7748](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc7748) ä¸­å®šä¹‰çš„å¯†é’¥åå•†æ–¹æ¡ˆã€‚

ä½¿ç”¨`Curve25519`ç®—æ³•ç”Ÿæˆå¯†é’¥å¯¹çš„ç®€å•`KeyPairGenerator`ç¤ºä¾‹ã€‚

GenerateKeyPairs.java

```
 package com.mkyong.java11.jep324;

import java.nio.charset.StandardCharsets;
import java.security.*;
import java.security.spec.NamedParameterSpec;

public class GenerateKeyPairs {

    public static void main(String[] args) throws NoSuchAlgorithmException,
        InvalidAlgorithmParameterException {

        KeyPairGenerator kpg = KeyPairGenerator.getInstance("XDH");
        NamedParameterSpec paramSpec = new NamedParameterSpec("X25519");
        kpg.initialize(paramSpec); // equivalent to kpg.initialize(255)
        // alternatively: kpg = KeyPairGenerator.getInstance("X25519")
        KeyPair kp = kpg.generateKeyPair();

        System.out.println("--- Public Key ---");
        PublicKey publicKey = kp.getPublic();

        System.out.println(publicKey.getAlgorithm());   // XDH
        System.out.println(publicKey.getFormat());      // X.509

        // save this public key
        byte[] pubKey = publicKey.getEncoded();

        System.out.println("---");

        System.out.println("--- Private Key ---");
        PrivateKey privateKey = kp.getPrivate();

        System.out.println(privateKey.getAlgorithm());  // XDH
        System.out.println(privateKey.getFormat());     // PKCS#8

        // save this private key
        byte[] priKey = privateKey.getEncoded();
    }
} 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 324:ä¸ Curve25519 å’Œ Curve448 çš„å¯†é’¥åè®®](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/324)
*   [Oracleâ€“Java å®‰å…¨æ ‡å‡†ç®—æ³•åç§°](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#keypairgenerator-algorithms)

## 9ã€‚JEP 327: Unicode 10

è¿™æ„å‘³ç€æ›´å¤šçš„ä»£ç ç‚¹ï¼Œæ›´å¤šçš„è¡¨æƒ…å›¾æ ‡ğŸ™‚ä¸‹é¢çš„ä¾‹å­æ‰“å°äº†ä¸€ä¸ª Unicode ç ä½ã€‚

PrintUnicode.java

```
 package com.mkyong.java11;

public class PrintUnicode {

    public static void main(String[] args) {
        String codepoint = "U+1F92A";   // crazy face
        System.out.println(convertCodePoints(codepoint));
    }

    // Java, UTF-16
    // Convert code point to unicode
    static char[] convertCodePoints(String codePoint) {
        Integer i = Integer.valueOf(codePoint.substring(2), 16);
        char[] chars = Character.toChars(i);
        return chars;

    }

} 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 327: Unicode 10](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/327)
*   [Unicode 10](http://web.archive.org/web/20221230032428/https://unicode.org/versions/Unicode10.0.0/)
*   [Unicode 10.0 çš„æ–°åŠŸèƒ½](http://web.archive.org/web/20221230032428/https://blog.emojipedia.org/whats-new-in-unicode-10/)
*   [Java ä¸­çš„ Unicode ä¹è¶£](http://web.archive.org/web/20221230032428/https://www.codetab.org/post/java-unicode-basics/)

## 10ã€‚JEP 328:é£è¡Œè®°å½•å™¨

Java é£è¡Œè®°å½•å™¨(JFR)æ˜¯ç”²éª¨æ–‡ JDK å…¬å¸çš„å•†ä¸šäº§å“ï¼Œç°åœ¨å®ƒåœ¨ OpenJDK 11 ä¸­æ˜¯å¼€æºçš„ã€‚è¿™ä¸ª JFR æ˜¯ä¸€ä¸ªåˆ†æå·¥å…·ï¼Œç”¨äºè¯Šæ–­æ­£åœ¨è¿è¡Œçš„ Java åº”ç”¨ç¨‹åºã€‚ä¸‹é¢çš„å‘½ä»¤åœ¨ä¸€ä¸ª Java åº”ç”¨ç¨‹åºä¸Šå¼€å§‹ä¸€ä¸ª 60 ç§’çš„ JFR è®°å½•ï¼Œå°†è®°å½•çš„æ•°æ®è½¬å‚¨åˆ°ä¸€ä¸ªã€‚jfr çš„æ–‡ä»¶ã€‚

Termianl

```
 $ java -XX:StartFlightRecording=duration=60s,settings=profile,filename=app.jfr MyHelloWorldApp 
```

é‚£ä¹ˆå¦‚ä½•å¤„ç†`.jfr`æ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [Java Mission Control (JMC)](http://web.archive.org/web/20221230032428/https://openjdk.java.net/projects/jmc/) å¯¹`.jfr`æ–‡ä»¶è¿›è¡Œåˆ†æå’Œå¯è§†åŒ–ã€‚

*å»¶ä¼¸é˜…è¯»*

*   JEP 328:é£è¡Œè®°å½•å™¨
*   [Java é£è¡Œè®°å½•å™¨ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-java-flight-recorder/)

## 11ã€‚JEP 329: ChaCha20 å’Œ Poly1305 å¯†ç ç®—æ³•

`ChaCha20`æ˜¯ä¸€ç§é«˜é€Ÿæµå¯†ç ï¼Œä¸€ç§åŠ å¯†è§£å¯†ç®—æ³•ã€‚`ChaCha20-Poly1305`æ˜¯æŒ‡`ChaCha20`åœ¨ AEAD æ¨¡å¼ä¸‹è¿è¡Œï¼Œä¸`Poly1305`è®¤è¯å™¨ã€åŠ å¯†å’Œè®¤è¯ä¸€èµ·ï¼ŒäºŒè€…éƒ½åœ¨ [RFC 7539](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc7539) ä¸­å®šä¹‰ã€‚è¿™ä¸ª JEP æ›´æ–°çš„`ChaCha20`å¯†ç ç®—æ³•æ˜¯ä¸å®‰å…¨çš„ [RC4](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/RC4) æµå¯†ç çš„æ›¿ä»£å“ã€‚

`ChaCha20`çš„è¾“å…¥æ˜¯:

*   256 ä½å¯†é’¥(32 å­—èŠ‚)
*   96 ä½éšæœºæ•°(12 å­—èŠ‚)
*   32 ä½åˆå§‹è®¡æ•°(4 å­—èŠ‚)

```
 Cipher cipher = Cipher.getInstance("ChaCha20");

    ChaCha20ParameterSpec param = new ChaCha20ParameterSpec(nonce, counter);

    cipher.init(Cipher.ENCRYPT_MODE, key, param);

    byte[] encryptedText = cipher.doFinal(pText); 
```

è¯·å‚è€ƒæœ¬[Java 11â€“chacha 20 æµå¯†ç ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-chacha20-stream-cipher-examples/)

`ChaCha20-Poly1305`çš„è¾“å…¥æ˜¯:

*   256 ä½å¯†é’¥(32 å­—èŠ‚)
*   96 ä½éšæœºæ•°(12 å­—èŠ‚)

```
 Cipher cipher = Cipher.getInstance("ChaCha20-Poly1305");

   // IV, initialization value with nonce
   IvParameterSpec iv = new IvParameterSpec(nonce);

   cipher.init(Cipher.ENCRYPT_MODE, key, iv);

   byte[] encryptedText = cipher.doFinal(pText); 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 329: ChaCha20 å’Œ Poly1305 å¯†ç ç®—æ³•](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/329)
*   [Java 11â€“chacha 20-poly 1305 åŠ å¯†ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-chacha20-poly1305-encryption-examples/)

## 12ã€‚JEP 330:å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åº

è¿™ä¸ªå•æ–‡ä»¶æºä»£ç ç¨‹åºæ„å‘³ç€æ•´ä¸ª Java ç¨‹åºéƒ½åœ¨ä¸€ä¸ªæºä»£ç `.java`æ–‡ä»¶ä¸­ã€‚è¿™ä¸ª JEP åœ¨å­¦ä¹  Java çš„åˆæœŸæ˜¯ä¸€ä¸ªå‹å¥½çš„ç‰¹æ€§ï¼Œä½†æ˜¯åœ¨ Java å¼€å‘ä¸­æ²¡æœ‰å¤ªå¤§çš„å¥½å¤„ï¼Œæˆ‘ä»¬éƒ½ç”¨ IDEã€‚

æŸ¥çœ‹å•ä¸ªæ–‡ä»¶æºä»£ç ã€‚

HelloJava.java

```
 public class HelloJava {

    public static void main(String[] args) {

        System.out.println("Hello World!");

    }
} 
```

Java 11 ä¹‹å‰ã€‚

Termianl

```
 $ javac HelloJava.java

$ java HelloJava

Hello World! 
```

ç°åœ¨ Java 11ã€‚

Termianl

```
 $ java HelloJava.java

Hello World! 
```

**Shebang #ï¼**
ç°åœ¨ï¼Œå•ä¸ª Java ç¨‹åºå¯ä»¥ä½¿ç”¨ Linux Shebang ä½œä¸ºè„šæœ¬è¿è¡Œã€‚

run.sh

```
 #!/opt/java/openjdk/bin/java --source 11
public class SheBang {

    public static void main(String[] args) {

        System.out.println("Hello World!");

    }
} 
```

*å»¶ä¼¸é˜…è¯»*

*   JEP 330:å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åº
*   [Docker ä¸­çš„ Java 11 shebang ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-shebang-example-in-docker/)

## 13ã€‚JEP 331:ä½å¼€é”€å †åˆ†æ

Java è™šæ‹Ÿæœºå·¥å…·æ¥å£(JVMTI)æ˜¯åœ¨ J2SE 5ã€JDK 5 (Tiger)ä¸­å¼•å…¥çš„ï¼Œå®ƒä¸ºåˆ†ææˆ–ç›‘æ§å·¥å…·æä¾›äº†è®¿é—® JVM çŠ¶æ€çš„ APIã€‚è¿™ä¸ª JEP åœ¨ JVMIT ä¸­æ·»åŠ äº†æ–°çš„ä½å¼€é”€å †åˆ†æ APIã€‚

*å»¶ä¼¸é˜…è¯»*

*   [JEP 331:ä½å¼€é”€å †åˆ†æ](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/331)
*   [Oracleâ€“JVM å·¥å…·æ¥å£](http://web.archive.org/web/20221230032428/https://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html)

## 14ã€‚JEP 332:ä¼ è¾“å±‚å®‰å…¨æ€§(TLS) 1.3

Java 11 æ”¯æŒ [RFC 8446](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc8446) ä¼ è¾“å±‚å®‰å…¨(TLS) 1.3 åè®®ã€‚ç„¶è€Œï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ TLS 1.3 ç‰¹æ€§éƒ½å®ç°äº†ï¼Œè¯¦æƒ…è¯·å‚è€ƒè¿™ä¸ª [JEP 332](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/332) ã€‚

Java å®‰å…¨å¥—æ¥å­—æ‰©å±•(JSSE) + TLS 1.3 ç¤ºä¾‹ã€‚

```
 import javax.net.ssl.SSLSocket;
import javax.net.ssl.SSLSocketFactory;

SSLSocketFactory factory =
        (SSLSocketFactory) SSLSocketFactory.getDefault();
socket =
        (SSLSocket) factory.createSocket("google.com", 443);

socket.setEnabledProtocols(new String[]{"TLSv1.3"});
socket.setEnabledCipherSuites(new String[]{"TLS_AES_128_GCM_SHA256"}); 
```

*å»¶ä¼¸é˜…è¯»*

*   [JEP 332:ä¼ è¾“å±‚å®‰å…¨æ€§(TLS) 1.3](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/332)
*   [Java SSLSocket TLS 1.3 ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-sslsocket-tls-1-3-example/)

## 15ã€‚JEP 333: ZGC:ä¸€ä¸ªå¯æ‰©å±•çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨(å®éªŒ)

Z åƒåœ¾æ”¶é›†å™¨(ZGC)æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åƒåœ¾æ”¶é›†å™¨ï¼›å®ƒå…·æœ‰ä¸è¶…è¿‡ 10ms ä½æš‚åœæ—¶é—´ã€‚è¿™ç§ ZCG åªåœ¨ Linux/64 ä¸Šæ”¯æŒã€‚

*   åœ¨ Java 14 ä¸­ï¼Œè¿™ä¸ª ZCG æ‰©å±•äº†å¯¹ macOS [JEP 364](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/364) å’Œ Windows [JEP 365](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/365) çš„æ”¯æŒã€‚
*   è¿™ä¸ª ZGC åƒåœ¾æ”¶é›†å™¨æ˜¯ Java 15 [JEP 377](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/377) ä¸­çš„ä¸€ä¸ªäº§å“ç‰¹æ€§ã€‚

*å»¶ä¼¸é˜…è¯»*

*   [JEP 333: ZGC:ä¸€ä¸ªå¯æ‰©å±•çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨(å®éªŒ)](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/333)
*   [open JDK Wikiâ€“ZCG](http://web.archive.org/web/20221230032428/https://wiki.openjdk.java.net/display/zgc/Main)
*   [Oracleâ€“Z åƒåœ¾æ”¶é›†å™¨](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/gctuning/z-garbage-collector1.html)

## 16ã€‚JEP 335:åå¯¹ Nashorn JavaScript å¼•æ“

Nashorn JavaScript è„šæœ¬å¼•æ“å’Œ`jjs`å·¥å…·å·²è¢«å¼ƒç”¨ï¼Œå¯èƒ½ä¼šåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­åˆ é™¤ã€‚

*å†å²*

*   Java 8 [JEP 174](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/174) å¼•å…¥äº† Nashornï¼Œä½œä¸º Rhino Javascript å¼•æ“çš„æ›¿ä»£å“ã€‚
*   Java 11 [JEP 335](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/335) å¼ƒç”¨äº† Nashornã€‚
*   Java 15 [JEP 372](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/372) ç§»é™¤äº† Nashorn JavaScript å¼•æ“å’Œ jjs å·¥å…·ã€‚

*å»¶ä¼¸é˜…è¯»*

*   [JEP 335:åå¯¹ Nashorn JavaScript å¼•æ“](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/335)

## 17ã€‚JEP 336:åå¯¹ Pack200 å·¥å…·å’Œ API

è¿™ä¸ª JEP å¼ƒç”¨äº†`pack200`å’Œ`unpack200`å·¥å…·ï¼Œä»¥åŠ`java.util.jar`åŒ…ä¸­çš„`Pack200` APIï¼Œå®ƒå¯èƒ½ä¼šåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­ç§»é™¤ã€‚

JEP 367 ç§»é™¤äº† Pack200 å·¥å…·å’Œ APIã€‚

*å»¶ä¼¸é˜…è¯»*

*   [JEP 336:åå¯¹ Pack200 å·¥å…·å’Œ API](http://web.archive.org/web/20221230032428/https://openjdk.java.net/jeps/336)

## ä¸‹è½½æºä»£ç 

$ git å…‹éš†[https://github.com/mkyong/core-java](http://web.archive.org/web/20221230032428/https://github.com/mkyong/core-java)

$ cd java-11

## å‚è€ƒæ–‡çŒ®

*   [OpenJDK 11 é¡¹ç›®](http://web.archive.org/web/20221230032428/https://openjdk.java.net/projects/jdk/11/)
*   [Java ç‰ˆæœ¬å†å²](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Java_version_history)
*   [Unicode 10](http://web.archive.org/web/20221230032428/https://unicode.org/versions/Unicode10.0.0/)
*   [ç»´åŸºç™¾ç§‘â€“AAR ch 64 å¤„ç†å™¨](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/ARM_architecture)
*   [ç»´åŸºç™¾ç§‘â€“å†…åœ¨](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Intrinsic_function)
*   Java å®‰å…¨æ€§æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿ
*   [Oracleâ€“Java å®‰å…¨æ ‡å‡†ç®—æ³•åç§°](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#keypairgenerator-algorithms)
*   [RFC 7748](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc7748)
*   [ç»´åŸºç™¾ç§‘â€“curve 25519](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Curve25519)
*   [ç»´åŸºç™¾ç§‘â€“curve 448](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Curve448)
*   [Java é£è¡Œè®°å½•å™¨](http://web.archive.org/web/20221230032428/https://mkyong.com/java/java-11-java-flight-recorder/)
*   [Java ä»»åŠ¡æ§åˆ¶(JMC)](http://web.archive.org/web/20221230032428/https://openjdk.java.net/projects/jmc/)
*   [RFC 7539](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc7539)
*   [Java 11â€“Chipher](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/Cipher.html)
*   [ChaCha20](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Salsa20#ChaCha_variant)
*   [RC4](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/RC4)
*   [Java 11â€“chacha 20 æµå¯†ç ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-chacha20-stream-cipher-examples/)
*   [Java 11â€“chacha 20-poly 1305 åŠ å¯†ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-chacha20-poly1305-encryption-examples/)
*   [Docker ä¸­çš„ Java 11 shebang ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-shebang-example-in-docker/)
*   [ç»´åŸºç™¾ç§‘â€“Java è™šæ‹Ÿæœºå·¥å…·æ¥å£](http://web.archive.org/web/20221230032428/https://en.wikipedia.org/wiki/Java_Virtual_Machine_Tools_Interface)
*   [Oracleâ€“JVM å·¥å…·æ¥å£](http://web.archive.org/web/20221230032428/https://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html)
*   [Java SSLSocket TLS 1.3 ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-sslsocket-tls-1-3-example/)
*   [RFC 8446](http://web.archive.org/web/20221230032428/https://tools.ietf.org/html/rfc8446)
*   [Oracleâ€“Java å®‰å…¨å¼€å‘äººå‘˜æŒ‡å—](http://web.archive.org/web/20221230032428/https://docs.oracle.com/javase/10/security/toc.htm)
*   [Oracleâ€“Z åƒåœ¾æ”¶é›†å™¨](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/gctuning/z-garbage-collector1.html)
*   [open JDK Wikiâ€“ZCG](http://web.archive.org/web/20221230032428/https://wiki.openjdk.java.net/display/zgc/Main)
*   [Oracleâ€“Z åƒåœ¾æ”¶é›†å™¨](http://web.archive.org/web/20221230032428/https://docs.oracle.com/en/java/javase/11/gctuning/z-garbage-collector1.html)
*   [Java 11 HttpClient ç¤ºä¾‹](/web/20221230032428/https://mkyong.com/java/java-11-httpclient-examples/)

<input type="hidden" id="mkyong-current-postId" value="15725">